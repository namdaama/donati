---
interface Props {
  question: string;
  answer: string;
  index: number;
}

const { question, answer, index } = Astro.props;
---

<details class="faq-item bg-white rounded-lg shadow-md overflow-hidden transition-all duration-300">
  <summary class="cursor-pointer flex items-center gap-3 p-4 md:p-6 list-none">
    <img
      src="/images/svg/Parts/icon_Q.svg"
      alt="Q"
      class="w-8 h-8 md:w-10 md:h-10 flex-shrink-0"
    />
    <span class="flex-1 text-[#58778D] font-semibold text-base md:text-lg leading-relaxed">
      {question}
    </span>
    <span class="toggle-icon text-primary-color text-xl md:text-2xl flex-shrink-0 transition-transform duration-300">
      ▼
    </span>
  </summary>

  <div class="answer-content px-4 md:px-6 pb-4 md:pb-6 animate-slideDown">
    <div class="flex items-start gap-3 pt-2 border-t border-gray-100">
      <img
        src="/images/svg/Parts/icon_A.svg"
        alt="A"
        class="w-8 h-8 md:w-10 md:h-10 flex-shrink-0 mt-2"
      />
      <p class="flex-1 text-text-gray leading-relaxed whitespace-pre-line pt-2">
        {answer}
      </p>
    </div>
  </div>
</details>

<style>
  /* デフォルトのマーカーを非表示 */
  summary::-webkit-details-marker {
    display: none;
  }

  summary::marker {
    display: none;
  }

  /* ホバー効果 */
  .faq-item:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  /* 開閉時のアイコン回転 */
  details[open] .toggle-icon {
    transform: rotate(180deg);
  }

  /* 開閉アニメーション */
  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  details[open] .animate-slideDown {
    animation: slideDown 0.3s ease-out;
  }

  /* レスポンシブ調整 */
  @media (max-width: 640px) {
    summary {
      gap: 0.5rem;
    }

    summary span.text-base {
      font-size: 0.875rem;
    }
  }
</style>
