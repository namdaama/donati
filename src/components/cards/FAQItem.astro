---
interface Props {
  question: string;
  answer: string;
  index: number;
}

const { question, answer, index } = Astro.props;
---

<details class="faq-item bg-white rounded-lg shadow-md p-6 transition-all duration-300">
  <summary class="cursor-pointer flex items-start gap-4 list-none">
    <span class="w-8 h-8 min-w-[2rem] rounded-full bg-overview-yellow flex items-center justify-center text-white font-bold text-sm">
      Q
    </span>
    <span class="flex-1 text-[#58778D] font-semibold text-lg leading-relaxed">
      {question}
    </span>
    <span class="text-2xl text-overview-yellow ml-2">⭐</span>
  </summary>

  <div class="mt-6 ml-12 animate-slideDown">
    <div class="flex items-start gap-4">
      <span class="w-8 h-8 min-w-[2rem] rounded-full bg-primary-color flex items-center justify-center text-white font-bold text-sm">
        A
      </span>
      <p class="flex-1 text-text-gray leading-relaxed whitespace-pre-line">
        {answer}
      </p>
    </div>
  </div>
</details>

<style>
  /* デフォルトのマーカーを非表示 */
  summary::-webkit-details-marker {
    display: none;
  }

  summary::marker {
    display: none;
  }

  /* ホバー効果 */
  .faq-item:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  /* 開閉アニメーション */
  details[open] summary {
    margin-bottom: 0;
  }

  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  details[open] .animate-slideDown {
    animation: slideDown 0.3s ease-out;
  }

  /* レスポンシブ調整 */
  @media (max-width: 640px) {
    .faq-item {
      padding: 1rem;
    }

    summary {
      gap: 0.75rem;
    }

    .mt-6.ml-12 {
      margin-left: 2.5rem;
      margin-top: 1rem;
    }

    summary span.text-lg {
      font-size: 1rem;
    }
  }
</style>
