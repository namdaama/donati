---
import Layout from '../layouts/Layout.astro';
import Header from '../components/common/Header.astro';
import Footer from '../components/common/Footer.astro';
import FooterDivider from '../components/overview/FooterDivider.astro';
import PageIntroduction from '../components/common/PageIntroduction.astro';
import FAQItem from '../components/cards/FAQItem.astro';
import { faqData } from '../config/faq';
---

<Layout title="よくあるご質問">
  <Header />

  <main class="flex-grow">
    <section class="py-16">
      <div class="max-w-4xl mx-auto px-4">
        <!-- 1. ページタイトル -->
        <PageIntroduction title="よくあるご質問 (FAQ)" />

        <!-- 2. 料金についての説明 -->
        <div class="bg-white/70 backdrop-blur-sm rounded-lg p-6 md:p-8 mb-12 shadow">
          <h2 class="text-2xl font-bold mb-4" style="color: #58778D;">{faqData.introSection.title}</h2>
          {faqData.introSection.content.map((paragraph) => (
            <p class="text-text-gray mb-3 leading-relaxed">{paragraph}</p>
          ))}
        </div>

        <!-- 3. 料金カテゴリグリッド -->
        <div class="mb-12">
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            {faqData.pricingCategories.map((category) => (
              <div class="bg-gray-100 rounded-lg p-4 shadow hover:shadow-md transition-shadow">
                <h3 class="font-bold text-gray-800 mb-2 text-lg">{category.title}</h3>
                <p class="text-sm text-gray-600 whitespace-pre-line leading-relaxed">{category.description}</p>
              </div>
            ))}
          </div>
        </div>

        <!-- 4. イベント関連質問グリッド -->
        <div class="mb-12">
          <h2 class="text-2xl font-bold mb-6" style="color: #58778D;">費用について詳しく知る</h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            {faqData.eventQuestions.map((item) => (
              <div class="bg-gray-100 rounded-lg p-4 shadow hover:shadow-md transition-shadow">
                <h3 class="font-bold text-gray-800 mb-2 text-lg">{item.title}</h3>
                <p class="text-sm text-gray-600 leading-relaxed">{item.description}</p>
              </div>
            ))}
          </div>
        </div>

        <!-- 5. FAQアコーディオン -->
        <div class="mb-12">
          <h2 class="text-2xl font-bold mb-6" style="color: #58778D;">よくあるご質問 (FAQ)</h2>
          <div class="space-y-4">
            {faqData.faqItems.map((item, index) => (
              <FAQItem question={item.question} answer={item.answer} index={index} />
            ))}
          </div>
        </div>

        <!-- 6. CTAセクション -->
        <div class="bg-overview-yellow rounded-lg p-8 text-center shadow-lg">
          <div class="flex flex-col items-center gap-4">
            <!-- メールアイコン -->
            <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-md">
              <svg class="w-8 h-8 text-primary-color" fill="currentColor" viewBox="0 0 20 20">
                <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>
                <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
              </svg>
            </div>

            <h2 class="text-2xl font-bold text-gray-800">{faqData.ctaSection.title}</h2>
            <p class="text-gray-700 leading-relaxed whitespace-pre-line max-w-2xl">
              {faqData.ctaSection.description}
            </p>

            <a
              href={faqData.ctaSection.buttonLink}
              class="inline-block bg-primary-color text-white font-bold px-8 py-4 rounded-lg hover:bg-opacity-90 transition-all transform hover:scale-105 shadow-md mt-4"
            >
              {faqData.ctaSection.buttonText}
            </a>
          </div>
        </div>
      </div>
    </section>

    <FooterDivider />
  </main>

  <Footer />
</Layout>

<style>
  /* backGround.png を背景として使用 */
  body {
    background-image: url('/images/backGround.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
  }
</style>
